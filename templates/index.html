{% extends 'base.html' %}
{% block content %}

<h1>Task Master</h1>

<div class="content">
{% if tasks[0] %}
<form action="/search" method="GET">
            <select name = "refer" value="field">
                <option value="_id">Search by ID</option>
                <option value="task">Search by Tasks</option>
                <option value="date_created">Search by Date</option>
            </select>
<input type="search" name="search" placeholder="search">
<input type="submit" value="Go">
</form>
<table border="1px" style="margin-top:10px;">
    <tr>
        <th>Task</th>
        <th>Time Added</th>
        <th>Actions</th>
    </tr>
    {% for task in tasks %}
    <tr>
        <td>{{ task.task}}</td>
        <td>{{ task.date_created}}</td>
        <td>
            <a href="{{url_for('delete',id = task._id)}}">Delete</a>
            <br>
            <a href="{{url_for('update',id = task._id)}}">Update</a>
        </td>
    </tr>
    {% endfor %}
    {% else %}
    <h4> No Availabe Task </h4>
    {% endif %}
</table><br>
<form action="/" method="POST">
    <input type="text" name="content" id="content" required>
    <input type="submit" value="Add Task">
</form>
{# {% if error %}<p><strong>{{ error }}</strong></p>{% endif %} #}
{{ key }}
</div>
{% endblock %}